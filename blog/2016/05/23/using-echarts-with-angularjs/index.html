<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
    <head>
        <meta charset="utf-8" />

        <script type="text/javascript">
            (function() {
              var hm = document.createElement("script");
              hm.src = "//hm.baidu.com/hm.js?dcee78e565eeaedc76defba5d096b344";
              var s = document.getElementsByTagName("script")[0]; 
              s.parentNode.insertBefore(hm, s);
            })();

            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-38205696-1']);
            _gaq.push(['_trackPageview']);
            (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>

        <meta name="description" content="Web Develope Blog by Devin Shen" />
        <meta name="viewport" content="width=100%, initial-scale=1" />

        <link rel="shortcut icon" href="https://shenjl.github.io.com/blog/img//owl.ico" />
        <link rel="stylesheet" type="text/css" href="https://shenjl.github.io/blog/css/default.min.css" />
    </head>
    
    <body>

        <div id="music-panel">
    <a id="music-control" href="javascript:;" onclick="toggleMusicPanel()"></a>
    <div id="music-content">
        <!-- use lazy loading -->
        <!--iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=450 src="http://music.163.com/outchain/player?type=0&id=49176408&auto=0&height=430"></iframe-->
    </div>
</div>


        
        
        <div id="mobile-nav">
            <a href="http://zhangwenli.com" onclick="_gaq.push(['_trackEvent', 'ToHome', 'InNavMobile', window.location.pathname]);">Home</a><a href="https://shenjl.github.io/blog" onclick="_gaq.push(['_trackEvent', 'ToBlog', 'InNavMobile', window.location.pathname]);">Blog</a>
        </div>
        <div class="contentDiv">


<title>Using ECharts with Angular.js
    
 - 羡辙杂俎</title>




<div class="rotLeft rotTop pageBack"></div>
<div class="rotRight rotTop pageBack"></div>
<div class="container page page-post">
    

    <div class="simpleNav">
        <a href="http://zhangwenli.com" class="pageDiv" onclick="_gaq.push(['_trackEvent', 'ToHome', 'InPost', window.location.pathname]);">Home</a>
        <a href="https://shenjl.github.io/blog" class="pageDiv" onclick="_gaq.push(['_trackEvent', 'ToBlog', 'InPost', window.location.pathname]);">Blog</a>
    </div>

    
    
    <div class="timeago" title="2016-05-23T12:16:52+08:00">2016.05.23 12:16:52</div>

    
    <div class="pageTitle">Using ECharts with Angular.js</div>

    <div class="tagPanel">
    <a href="https://shenjl.github.io/blog/all?tag=AngularJs" onclick="_gaq.push(['_trackEvent', 'ToTag', 'InPost', window.location.pathname]);"><div class="tag">AngularJs</div></a><a href="https://shenjl.github.io/blog/all?tag=ECharts" onclick="_gaq.push(['_trackEvent', 'ToTag', 'InPost', window.location.pathname]);"><div class="tag">ECharts</div></a>
    </div>

    

    



    <div id="page-view"></div>


    
    <blockquote>
  <p><a href="http://echarts.baidu.com">ECharts</a> is a powerful JavaScript library to make amazing charts. This post introduces how to use ECharts in <a href="http://stackoverflow.com/questions/13329485/mvw-what-does-it-stand-for"><em>MVW</em></a> style.</p>
</blockquote>

<h1 id="echarts">ECharts</h1>

<div id="intro-chart" class="demo"></div>

<p>ECharts uses a configurable <code class="highlighter-rouge">option</code> object to control most of its data and visual settings. A typical way to use ECharts after including <code class="highlighter-rouge">echarts.js</code> in HTML is as follows.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">dom</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'intro-chart'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">chart</span> <span class="o">=</span> <span class="nx">echarts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">dom</span><span class="p">);</span>

<span class="nx">chart</span><span class="p">.</span><span class="nx">setOption</span><span class="p">({</span>
    <span class="na">backgroundColor</span><span class="p">:</span> <span class="s1">'#08263a'</span><span class="p">,</span>
    <span class="na">title</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">text</span><span class="p">:</span> <span class="s1">'ECharts Example'</span><span class="p">,</span>
        <span class="na">textStyle</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">color</span><span class="p">:</span> <span class="s1">'#b1cfa5'</span><span class="p">,</span>
            <span class="na">fontSize</span><span class="p">:</span> <span class="mi">18</span>
        <span class="p">},</span>
        <span class="na">left</span><span class="p">:</span> <span class="s1">'center'</span><span class="p">,</span>
        <span class="na">top</span><span class="p">:</span> <span class="mi">25</span>
    <span class="p">},</span>
    <span class="na">xAxis</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">show</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="na">data</span><span class="p">:</span> <span class="p">...</span>
    <span class="p">},</span>
    <span class="p">...</span>
    <span class="na">series</span><span class="p">:</span> <span class="p">[{</span>
        <span class="na">type</span><span class="p">:</span> <span class="s1">'bar'</span><span class="p">,</span>
        <span class="na">data</span><span class="p">:</span> <span class="p">...,</span>
        <span class="na">itemStyle</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">normal</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">barBorderRadius</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
                <span class="na">shadowBlur</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                <span class="na">shadowColor</span><span class="p">:</span> <span class="s1">'#111'</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">...</span>
    <span class="p">}]</span>
<span class="p">});</span>
</code></pre>
</div>

<p>To use ECharts with Angular, a very basic requirement is to bind chart option with ECharts instance.</p>

<h1 id="html">HTML</h1>

<p>Suppose we have an HTML containing multiple elements for ECharts instances.</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"dash-chart"</span> <span class="na">eoption=</span><span class="s">"vm.eoption.a"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"dash-chart"</span> <span class="na">eoption=</span><span class="s">"vm.eoption.b"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"dash-chart"</span> <span class="na">eoption=</span><span class="s">"vm.eoption.c"</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre>
</div>

<p>Here, <code class="highlighter-rouge">eoption</code> is a user-defined attribute, which could be anything you like.</p>

<h1 id="controller">Controller</h1>

<p>In Angular controller, we define options as follows. To make the demo simple enough, we only set a title in option.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">MyController</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="nx">vm</span><span class="p">.</span><span class="nx">eoption</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">a</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">title</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">text</span><span class="p">:</span> <span class="s1">'This is a'</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="na">b</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">title</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">text</span><span class="p">:</span> <span class="s1">'This is b'</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="na">c</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">title</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">text</span><span class="p">:</span> <span class="s1">'This is c'</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">}</span>
</code></pre>
</div>

<h1 id="directive">Directive</h1>

<p>In Angular directive, we watch each charts and updates option when attribute changes.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">dashChart</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="na">restrict</span><span class="p">:</span> <span class="s1">'C'</span><span class="p">,</span>
        <span class="na">link</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">scope</span><span class="p">,</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">attrs</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// directive is called once for each chart</span>
            <span class="kd">var</span> <span class="nx">myChart</span> <span class="o">=</span> <span class="nx">echarts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">elem</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>

            <span class="c1">// listen to option changes</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">eoption</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">scope</span><span class="p">.</span><span class="nx">$watch</span><span class="p">(</span><span class="nx">attrs</span><span class="p">[</span><span class="s1">'eoption'</span><span class="p">],</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                    <span class="kd">var</span> <span class="nx">option</span> <span class="o">=</span> <span class="nx">scope</span><span class="p">.</span><span class="nx">$eval</span><span class="p">(</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">eoption</span><span class="p">);</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">angular</span><span class="p">.</span><span class="nx">isObject</span><span class="p">(</span><span class="nx">option</span><span class="p">))</span> <span class="p">{</span>
                        <span class="nx">myChart</span><span class="p">.</span><span class="nx">setOption</span><span class="p">(</span><span class="nx">option</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">},</span> <span class="kc">true</span><span class="p">);</span> <span class="c1">// deep watch</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Note that we set the third parameter of <code class="highlighter-rouge">scope.$watch</code> to be <code class="highlighter-rouge">true</code>, which makes sure we get notified when any descendant of <code class="highlighter-rouge">eoption</code> changes.</p>

<p>To watch the change event of DOM attribute, a more straightforward way may be using Angular’s <code class="highlighter-rouge">attrs.$observe</code>. Keller used <code class="highlighter-rouge">attrs.$observe</code> to watch DOM atrribute<sup id="fnref:keller"><a href="#fn:keller" class="footnote">1</a></sup>, but deep watching is not enabled in his example.</p>

<p><code class="highlighter-rouge">attrs.$observe</code> doesn’t support the third parameter stating if enables deep watching. <strong>This means it will be triggered only when you set <code class="highlighter-rouge">vm.eoption.a</code> to a new value, but not when <code class="highlighter-rouge">vm.eoption.a.title</code> changes.</strong><sup id="fnref:watch-vs-observe"><a href="#fn:watch-vs-observe" class="footnote">2</a></sup></p>

<p>Considering changing part of option is a very common need, and ECharts suggests calling <code class="highlighter-rouge">setOption()</code> with minimal changed option, using <code class="highlighter-rouge">scope.$watch</code> seems to be a better choice over <code class="highlighter-rouge">attrs.$observe</code>.</p>

<h1 id="changing-data">Changing Data</h1>

<p>To demonstrate data-binding effect, I set the title to be current time, and update it every second.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">MyController</span><span class="p">(</span><span class="nx">$interval</span><span class="p">,</span> <span class="nx">dateFilter</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

    <span class="nx">vm</span><span class="p">.</span><span class="nx">eoption</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">a</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">title</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">text</span><span class="p">:</span> <span class="s1">''</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">};</span>

    <span class="c1">// update data every second</span>
    <span class="nx">$interval</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">vm</span><span class="p">.</span><span class="nx">echartsOption</span><span class="p">.</span><span class="nx">userSessionChart</span><span class="p">.</span><span class="nx">title</span><span class="p">.</span><span class="nx">text</span> <span class="o">=</span>
            <span class="nx">dateFilter</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span> <span class="s1">'yyyy-d-M HH:mm:ss'</span><span class="p">);</span>
    <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<p>You should see the Canvas is updating with current time.</p>

<script type="text/javascript">
var loadJs = [['https://shenjl.github.io/blog/js/echarts-all.js', function() {

    var charts = [];
    var introChart = echarts.init(document.getElementById('intro-chart'));
    charts.push(introChart);

    var xAxisData = [];
    var data = [];
    for (var i = 0; i < 50; i++) {
        xAxisData.push(i);
        data.push((Math.sin(i / 5) * (i / 5 -10) + i / 6) * 5)
    }

    introChart.setOption({
        backgroundColor: '#08263a',
        title: {
            text: 'ECharts Example',
            textStyle: {
                color: '#b1cfa5',
                fontSize: 18
            },
            left: 'center',
            top: 25
        },
        xAxis: {
            show: false,
            data: xAxisData
        },
        visualMap: {
            show: false,
            min: 0,
            max: 50,
            dimension: 0,
            inRange: {
                color: ['#4a657a', '#308e92', '#b1cfa5', '#f5d69f', '#f5898b', '#ef5055']
            }
        },
        yAxis: {
            axisLine: {
                show: false
            },
            axisLabel: {
                textStyle: {
                    color: '#4a657a'
                }  
            },
            splitLine: {
                show: true,
                lineStyle: {
                    color: '#08263f'
                }
            },
            axisTick: {
                show: false
            }
        },
        series: [{
            type: 'bar',
            data: data,
            itemStyle: {
                normal: {
                    barBorderRadius: 5,
                    shadowBlur: 10,
                    shadowColor: '#111'
                }
            },
            animationEasing: 'elasticOut',
            animationEasingUpdate: 'elasticOut',
            animationDelay: function (idx) {
                return idx * 20;
            },
            animationDelayUpdate: function (idx) {
                return idx * 20;
            }
        }]
    });



    $(window).resize(function() {
        for (var cid = 0, clen = charts.length; cid < clen; ++cid) {
            charts[cid].resize();
        }
    });
}]];

</script>

<div class="footnotes">
  <ol>
    <li id="fn:keller">
      <p><a href="http://www.kellerblog.cc/angular-echarts.html">使用 angular 封装 echarts</a>&nbsp;<a href="#fnref:keller" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:watch-vs-observe">
      <p><a href="http://stackoverflow.com/questions/14876112/angularjs-difference-between-the-observe-and-watch-methods">AngularJS: Difference between the $observe and $watch methods</a>&nbsp;<a href="#fnref:watch-vs-observe" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

    <div class="clear"></div>
    

    

    
    
    
    <hr />
    
    <p>微信公众号“羡辙部落格”（xianzheblog）提供本站优质非技术类博文推送。</p>
    <p class="no-indent"><a href="https://shenjl.github.io/blog/tip/" onclick="_gaq.push(['_trackEvent', 'ToTip', 'InPost', window.location.pathname]);">觉得博文很赞？来打赏一下我吧！——送羡辙一本书，让她写出更棒的作品！:heart_eyes: </a></p>
    
    <div class="social-share">
        <a class="social-share-element social-twitter" href="https://twitter.com/intent/tweet?text=Using ECharts with Angular.js&url=https://shenjl.github.io/blog/2016/05/23/using-echarts-with-angularjs/&via=OviliaZhang&hashtags=" target="_blank" title="Share this post on Twitter" onclick="_gaq.push(['_trackEvent', 'Share', 'Twitter', window.location.pathname]);"></a>
        <a class="social-share-element social-facebook" href="https://www.facebook.com/sharer/sharer.php?t=Using ECharts with Angular.js&u=https://shenjl.github.io/blog/2016/05/23/using-echarts-with-angularjs/" target="_blank" title="Share this post on Facebook" onclick="_gaq.push(['_trackEvent', 'Share', 'Facebook', window.location.pathname]);"></a>
        <a class="social-share-element social-google" href="https://plus.google.com/share?url=https://shenjl.github.io/blog/2016/05/23/using-echarts-with-angularjs/" target="_blank" title="Share this post on Google Plus" onclick="_gaq.push(['_trackEvent', 'Share', 'GPlus', window.location.pathname]);"></a>
        <a class="social-share-element social-linkedin" href="http://www.linkedin.com/shareArticle?mini=true&title=Using ECharts with Angular.js&url=https://shenjl.github.io/blog/2016/05/23/using-echarts-with-angularjs/&source=http%3a%2f%2fzhangwenli.com" target="_blank" title="Share this post on LinkedIn" onclick="_gaq.push(['_trackEvent', 'Share', 'LinkedIn', window.location.pathname]);"></a>
        <a class="social-share-element social-digg" href="http://digg.com/submit?url=https://shenjl.github.io/blog/2016/05/23/using-echarts-with-angularjs/&title=Using ECharts with Angular.js" target="_blank" title="Share this post on Digg" onclick="_gaq.push(['_trackEvent', 'Share', 'Digg', window.location.pathname]);"></a>
        <a class="social-share-element social-reddit" href="http://reddit.com/submit?url=https://shenjl.github.io/blog/2016/05/23/using-echarts-with-angularjs/&title=Using ECharts with Angular.js" target="_blank" title="Share this post on Reddit" onclick="_gaq.push(['_trackEvent', 'Share', 'Reddit', window.location.pathname]);"></a>
        <a class="social-share-element social-stumble" href="http://www.stumbleupon.com/submit?url=https://shenjl.github.io/blog/2016/05/23/using-echarts-with-angularjs/&title=Using ECharts with Angular.js" target="_blank" title="Share this post on StumbleUpon" onclick="_gaq.push(['_trackEvent', 'Share', 'StumbleUpon', window.location.pathname]);"></a>
        <a class="social-share-element social-weibo" href="http://v.t.sina.com.cn/share/share.php?title=来看看+%40羡辙+的博文吧：Using ECharts with Angular.js&url=https://shenjl.github.io/blog/2016/05/23/using-echarts-with-angularjs/" target="_blank" title="Share this post on Sina Weibo" onclick="_gaq.push(['_trackEvent', 'Share', 'Weibo', window.location.pathname]);"></a>
        <a class="social-share-element social-douban" href="http://shuo.douban.com/!service/share?href=https://shenjl.github.io/blog/2016/05/23/using-echarts-with-angularjs/&name=Using ECharts with Angular.js" target="_blank" title="Share this post on Dounban" onclick="_gaq.push(['_trackEvent', 'Share', 'Douban', window.location.pathname]);"></a>
    </div>

    <blockquote class="relatedPosts">
        
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                        
                        <h4>Similar Posts</h4>
                        <ul>
                        
                        <li class="relatedPost">
                            <a href="https://shenjl.github.io/blog/2016/12/31/goodbye-2016/" onclick="_gaq.push(['_trackEvent', 'ToPost', 'InRelated', window.location.pathname]);">
                            
                            
                            
                                2016 年度小结
                            
                            </a>
                        </li>
                        
                        
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                        
                        <li class="relatedPost">
                            <a href="https://shenjl.github.io/blog/2016/08/24/using-echarts-with-typescript/" onclick="_gaq.push(['_trackEvent', 'ToPost', 'InRelated', window.location.pathname]);">
                            
                            
                            
                                Using ECharts with TypeScript
                            
                            </a>
                        </li>
                        
                        
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
            
        
            
            
                
                
                    
                        
                        <li class="relatedPost">
                            <a href="https://shenjl.github.io/blog/2016/05/11/angularjs-pagination-with-bootstrap/" onclick="_gaq.push(['_trackEvent', 'ToPost', 'InRelated', window.location.pathname]);">
                            
                            
                            
                                Angular.js Pagination with Bootstrap
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                        
                        <li class="relatedPost">
                            <a href="https://shenjl.github.io/blog/2015/12/26/sleeping-analysis/" onclick="_gaq.push(['_trackEvent', 'ToPost', 'InRelated', window.location.pathname]);">
                            
                            
                            
                                这些年失的眠：两年睡眠数据统计
                            
                            </a>
                        </li>
                        
                        
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
        
            
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
                
                
                    
                
                    
                
                
            
        
        
            </ul>
        

        <h4>最近发表</h4>
        <ul>
        
            <li class="relatedPost">
                <a href="https://shenjl.github.io/blog/2017/01/31/reviewing-playing-pygmalion/" onclick="_gaq.push(['_trackEvent', 'ToPost', 'InRecent', window.location.pathname]);">
                
                
                
                    爱你，还是爱自己：《皮格马利翁效应》读后感
                
                </a>
            </li>
        
            <li class="relatedPost">
                <a href="https://shenjl.github.io/blog/2017/01/03/reading-report/" onclick="_gaq.push(['_trackEvent', 'ToPost', 'InRecent', window.location.pathname]);">
                
                
                
                    2016 年读书小结
                
                </a>
            </li>
        
            <li class="relatedPost">
                <a href="https://shenjl.github.io/blog/2016/12/31/goodbye-2016/" onclick="_gaq.push(['_trackEvent', 'ToPost', 'InRecent', window.location.pathname]);">
                
                
                
                    2016 年度小结
                
                </a>
            </li>
        
            <li class="relatedPost">
                <a href="https://shenjl.github.io/blog/2016/12/19/reviewing-the-neurotic-personality-of-our-time/" onclick="_gaq.push(['_trackEvent', 'ToPost', 'InRecent', window.location.pathname]);">
                
                
                
                    来，我们一起发神经吧！：《我们时代的神经症人格》读后感
                
                </a>
            </li>
        
            <li class="relatedPost">
                <a href="https://shenjl.github.io/blog/2016/12/03/reviewing-rhetoric/" onclick="_gaq.push(['_trackEvent', 'ToPost', 'InRecent', window.location.pathname]);">
                
                
                
                    言辞的边界：《修辞认识》读后感
                
                </a>
            </li>
        
        </ul>
        <a class="button" href="https://shenjl.github.io/blog/all" onclick="_gaq.push(['_trackEvent', 'ToAllPost', 'InPost', window.location.pathname]);">View All Posts</a></p>
    </blockquote>



    <div class="about-author">
    <div class="license">
        <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/">
            <img alt="Creative Commons License" style="border-width:0" src="https://shenjl.github.io/blog/img/cc.png" />
        </a>
        <div><span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">Every blog post in this site</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://zhangwenli.com" property="cc:attributionName" rel="cc:attributionURL">Wenli Zhang</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/">CC 3.0 License</a>, based on a work at <a xmlns:dct="http://purl.org/dc/terms/" href="http://github.com/ovilia/blog" rel="dct:source">Github</a>. You can see the source code of this blog site at <a href="https://github.com/Ovilia/blog/tree/gh-pages" target="_blank">github.com/Ovilia/blog</a>.</div>
    </div>
    <div class="follow-me">
        <div class="follow-me-txt">Follow <strong>Wenli Zhang</strong> at</div>
        <a class="social-share-element social-twitter" href="https://twitter.com/OviliaZhang" target="_blank" title="Follow me on Twitter" onclick="_gaq.push(['_trackEvent', 'Follow', 'Twitter', window.location.pathname]);"></a>
<a class="social-share-element social-google" href="https://plus.google.com/u/0/112802684720065263732?rel=author" target="_blank" title="Follow me on Google Plus" onclick="_gaq.push(['_trackEvent', 'Follow', 'GPlus', window.location.pathname]);"></a>
<a class="social-share-element social-github" href="https://github.com/Ovilia" target="_blank" title="Follow me on GitHub" onclick="_gaq.push(['_trackEvent', 'Follow', 'GitHub', window.location.pathname]);"></a>
<a class="social-share-element social-so" href="http://stackoverflow.com/users/760314/ovilia" target="_blank" title="Follow me on StackOverflow" onclick="_gaq.push(['_trackEvent', 'Follow', 'StackOverflow', window.location.pathname]);"></a>
<a class="social-share-element social-linkedin" href="http://www.linkedin.com/profile/view?id=148742016" target="_blank" title="Follow me on LinkedIn" onclick="_gaq.push(['_trackEvent', 'Follow', 'LinkedIn', window.location.pathname]);"></a>
<a class="social-share-element social-dribbble" href="https://dribbble.com/wenli" target="_blank" title="Follow me on Dribbble" onclick="_gaq.push(['_trackEvent', 'Follow', 'Dribbble', window.location.pathname]);"></a>
<a class="social-share-element social-weibo" href="http://weibo.com/plainjane" target="_blank" title="Follow me on Sina Weibo" onclick="_gaq.push(['_trackEvent', 'Follow', 'Weibo', window.location.pathname]);"></a>
<a class="social-share-element social-douban" href="http://www.douban.com/people/ovilia1024/" target="_blank" title="Follow me on Douban" onclick="_gaq.push(['_trackEvent', 'Follow', 'Douban', window.location.pathname]);"></a>

    </div>
    <div style="clear: both"></div>
</div>


    
<h1>Comments</h1>



<div id="disqus_thread"></div>
<script type="text/javascript">
    setTimeout(function() {
        var disqus_shortname = 'wenli';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    }, 10000);
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</div>
<div class="rotLeft rotBottom pageBack"></div>
<div class="rotRight rotBottom pageBack"></div>

            <div id="footer-nav">
                | <a href="#">Top</a> | 
                <a href="https://shenjl.github.io/blog">Blog</a> | 
                <a href="http://zhangwenli.com/#ovilia-home">About Me</a> |
                <a href="mailto:me@zhangwenli.com" target="_blank">Email</a> |
                <a href="https://shenjl.github.io/blog/feed.xml">RSS</a> | 
                <a href="https://shenjl.github.io/blog/meta">More</a> |
            </div>
            
            <div id="footer-follow">
                <a class="footer-follow-element footer-follow-twitter" href="https://twitter.com/OviliaZhang" target="_blank" title="Follow me on Twitter" onclick="_gaq.push(['_trackEvent', 'Follow', 'Twitter', 'Footer']);"></a>
                <a class="footer-follow-element footer-follow-google" href="https://plus.google.com/u/0/112802684720065263732?rel=author" target="_blank" title="Follow me on Google Plus" onclick="_gaq.push(['_trackEvent', 'Follow', 'GPlus', 'Footer']);"></a>
                <a class="footer-follow-element footer-follow-github" href="https://github.com/Ovilia" target="_blank" title="Follow me on GitHub" onclick="_gaq.push(['_trackEvent', 'Follow', 'GitHub', 'Footer']);"></a>
                <a class="footer-follow-element footer-follow-so" href="http://stackoverflow.com/users/760314/ovilia" target="_blank" title="Follow me on StackOverflow" onclick="_gaq.push(['_trackEvent', 'Follow', 'StackOverflow', 'Footer']);"></a>
                <a class="footer-follow-element footer-follow-linkedin" href="http://www.linkedin.com/profile/view?id=148742016" target="_blank" title="Follow me on LinkedIn" onclick="_gaq.push(['_trackEvent', 'Follow', 'LinkedIn', 'Footer']);"></a>
                <a class="footer-follow-element footer-follow-dribbble" href="https://dribbble.com/wenli" target="_blank" title="Follow me on Dribbble" onclick="_gaq.push(['_trackEvent', 'Follow', 'Dribbble', 'Footer']);"></a>
                <a class="footer-follow-element footer-follow-weibo" href="http://weibo.com/plainjane" target="_blank" title="Follow me on Sina Weibo" onclick="_gaq.push(['_trackEvent', 'Follow', 'Weibo', 'Footer']);"></a>
                <a class="footer-follow-element footer-follow-douban" href="http://www.douban.com/people/ovilia1024/" target="_blank" title="Follow me on Douban" onclick="_gaq.push(['_trackEvent', 'Follow', 'Douban', 'Footer']);"></a>
            </div>
        </div>
        
        <div id="footerDiv">
            <div id="footerImg"></div>
            <div id="footerCnt">
                <div id="footer">
                </div>
            </div>
        </div>

        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
            
        <script type="text/javascript" src="https://shenjl.github.io/blog/js/lazyLoad.js"></script>
        <script type="text/javascript" src="https://shenjl.github.io/blog/js/common.min.js"></script>
    </body>
</html>

